@model List<Match>

<!doctype html>
<html lang="en">
  <head>
  	<title>Table 02</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<link href='https://fonts.googleapis.com/css?family=Roboto:400,100,300,700' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/qtip2/3.0.3/jquery.qtip.min.css" />

	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
	
	<link rel="stylesheet" href="~/css/style_table.css">


	
	<link rel="stylesheet" type="text/css" href="~/css/main.css">
	<link rel="stylesheet" href="~/css/Style.css">


	


    	<style>
		#border{
			  border-color: black !important; 
  border-style:solid !important;
  border-width:1px !important;
  text-align:center;
  margin:auto;

		}
      	</style>
		  <style>
		#icone{
		margin:auto;
		}
      	</style>
		  	  <style>
		#butt{
		width:175px !important;
	

		}
      	</style>
		  	  <style>
		#centre{
		text-align:center;
		}
      	</style>
	</head>
	<body>

      


<header>

                        <partial name="_NavbarPartial"/>

</header>

	<section class="ftco-section">
		<div class="container">
			<div class="row justify-content-center">
				<div class="col-md-6 text-center mb-5">
					<h2 class="heading-section">Historia gier</h2>
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<div class="table-wrap">
						<table class="table">
						  <thead class="thead-dark">
						    <tr>
						     @if (User.Identity.IsAuthenticated && User.IsInRole("Admin"))
                    {
                         <th id="centre">User Name</th>
                    }
						    
						    
						      <th id="centre">Game</th>
							    <th id="centre">Match Date</th>
						      <th id="centre">Winner</th>
							  <th id="centre">Actions</th>
						    </tr>
						  </thead>
						  <tbody id="tex">
							  @foreach(var item in Model)
							  {
								 
								    <tr class="alert-dark" id="border" role="alert">
									
						     @if (User.Identity.IsAuthenticated && User.IsInRole("Admin"))
						     { 
								 <td id="border">@item.UserName</td>
							 
							 }
								
							 
							
						     
						      <td id="border">@item.GameName</td>
							  
							   <td id="border">@item.StartDate</td>
							   
						      
						      <td id="border">@item.WhoWIn</td>
						
							 <td id="border">
								 <div class="row">
								 <div id ="icone" type="button" class="text-black" onclick="location.href='@Url.Action("Update", "Matches", new { Id=@item.MatchId })'"><i class="bi bi-pencil-square"></i></div>
								 <div id ="icone" type="button" class="text-black" data-toggle="ajax-modal" data-target="#Boardgames" data-url="@Url.Action("PopUpWindowDeleteMatch", "Matches",new {Id=@item.MatchId})"><i class="bi bi-trash-fill"></i></div>
								  <div id ="icone" type="button" class="text-black"onclick="location.href='@Url.Action("Index", "Detail", new { Id=@item.MatchId })'"><i class="bi bi-question-circle-fill"></i></div>
								  </div>
							 </td>
							  
						    
						  
						    </tr>
								  
							  
							}
						  
						  </tbody>
						</table>
					</div>
				</div>
			</div>
		</div>


<div id="butt" type="button" style="position: fixed; right: 1%; bottom: 3%;" class="text-white" onclick="location.href='@Url.Action("AddMatch", "Matches")'">
	<button id="butt" class="btn btn-info" type="button" >

		 <i class="bi bi-plus-circle"></i> Add match </button>
		 </div>

		 <div id="butt" type="button" style="position: fixed; right: 1%; bottom: 8%;" class="text-white" onclick="location.href='@Url.Action("Index", "Matches", new{Id="0"})'">
	<button id="butt" class="btn btn-info" type="button" >

		  Show unplayed </button>
		 </div>


		 		 <div class="selector" style="position: absolute; left: 1%; top: 15%;" >
	
				<select  id="oto1" style="position: relative;left: 10px;"class="form-control"  asp-items="@ViewBag.Games"></select>
			 </div>								
							
			 <div class="selector" style="position: absolute; left: 1%; top: 20%;" >
	
				<select  id="oto2" style="position: relative;left: 10px;"class="form-control"  asp-items="@ViewBag.Players"></select>
			 </div>	

			 <div class="selector" style="position: absolute; left: 1%; top: 25%;" >
	
				<select  id="oto3" style="position: relative;left: 10px;"class="form-control"  asp-items="@ViewBag.Winners"></select>
			 </div>	
			 	 <div class="selector" style="position: absolute; left: 1%; top: 30%;" >
	
				<select  id="oto4" style="position: relative;left: 10px;"class="form-control"  asp-items="@ViewBag.Challanges"></select>
			 </div>	


		 <div class="plHolder" id="PlaceHolder"></div>
	</section>

	<script src="~/js/jquery_table.min.js"></script>
  <script src="~/js/popper_table.js"></script>
  <script src="~/js/bootstrap_table.min.js"></script>
  <script src="~/js/main_table.js"></script>
   <script src="~/js/site.js"></script>

   <script>

$("#oto1").change(function () {
    let _selectedValue = $(this).val();
    let _data = {"Id": _selectedValue};

    window.location.href = '/Matches/IndexFilterByGame/'+_data.Id;       
});
</script>


   <script>

$("#oto2").change(function () {
    let _selectedValue = $(this).val();
    let _data = {"Id": _selectedValue};

    window.location.href = '/Matches/IndexFilterByPlayer/'+_data.Id;       
});
</script>

   <script>

$("#oto3").change(function () {
    let _selectedValue = $(this).val();
    let _data = {"Id": _selectedValue};

    window.location.href = '/Matches/IndexFilterByWinner/'+_data.Id;       
});
</script>

   <script>

$("#oto4").change(function () {
    let _selectedValue = $(this).val();
    let _data = {"Id": _selectedValue};

    window.location.href = '/Matches/IndexFilterByChallange/'+_data.Id;       
});
</script>

	</body>
</html>

