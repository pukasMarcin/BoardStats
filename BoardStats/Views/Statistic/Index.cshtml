@using BoardStats.Models
@using BoardStats.Data.ViewModels
@model StatisticsVM


<!doctype html>
<html lang="en">
  <head>
  	<title>Table 02</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <link href="https://unpkg.com/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

	<link href='https://fonts.googleapis.com/css?family=Roboto:400,100,300,700' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/qtip2/3.0.3/jquery.qtip.min.css" />

	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
	
	<link rel="stylesheet" href="~/css/style_table.css">


	
	<link rel="stylesheet" type="text/css" href="~/css/main.css">
	<link rel="stylesheet" href="~/css/Style.css">
	<style>
		#Chart_container{
			width:100%;
			height:400px;
		}
	</style>

    <style>
		#selector{
			width:270px;
            margin-left:1%;
			height:40px;
		}
	</style>
   
	    <style>
		#selector2{
			width:270px;
            margin-left:1%;
			height:40px;
		}
	</style>
   

    	<style>
		#Chart_container2{
			width:100%;
			height:400px;
		}
	</style>
      	<style>
		#Chart_container3{
			width:100%;
			height:400px;
		}
	</style>
       	<style>
		#Chart_container4{
			width:100%;
			height:400px;
		}
	</style>
    	<style>
		#icon1{
			color:white;
            margin-right: 10px;
		}
	</style>
       	<style>
		#card1{
			margin-top:-5%;
            margin-left:20%;
            height:180px;
		}
	</style>
           	<style>
		#card2{
			margin-top:-5%;
            margin-left:15%;
            height:180px;
		}
	</style>
        	<style>
		#shadow1{
			box-shadow: 8px 8px 10px grey;
            height:180px;
		}
	</style>
	

   
	</head>
	<body>

      


<header>

                        <partial name="_NavbarPartial"/>

</header>

<div class="row">
     <div id="selector" class="selector"  >
	
				<select  id="oto1" style="position: relative;left: 10px;"class="form-control"  asp-items="@ViewBag.Games"></select>
			 </div>	
             <div id="selector2" class="selector"  >
	
				<select  id="oto2" style="position: relative;left: 5%;"class="form-control"  asp-items="@ViewBag.Players"></select>
			 </div>	
    </div>

<div class="container1s">
    <div class="row4">
        <div class="col-md-5">
            <div id="Chart_container2">
	<canvas id="Chart_bar2"></canvas>

</div>
        </div>
         <div class="col-md-52">
       
         <div class="row2">
           <div class="w-full max-w-3xl">
    <div class="-mx-2 md:flex">

       
            <div id="card1" class="w-full md:w-1/3 px-2">
                <div class="rounded-3xl mb-11">
                    <div  id="shadow1" class="rounded-3xl bg-black relative overflow-hidden">
                        <div class="px-3 pt-8 text-center relative z-10">
                            <h4 class="text-sm pb-4 uppercase text-white leading-tight"><i id="icon1" class="bi bi-trophy"></i>Najwięcej wygranych</h4>
                            <h3 class="text-3xl text-white font-semibold leading-tight my-3">@Model.bestWinner</h3>
                           
                        </div>
                      
                    </div>
                </div>
            </div>

                <div id="card2" class="w-full md:w-1/3 px-2">
                <div class="rounded-3xl mb-11">
                    <div  id="shadow1" class="rounded-3xl bg-black relative overflow-hidden">
                        <div class="px-3 pt-8 text-center relative z-10">
                            <h4 class="text-sm pb-4 uppercase text-white leading-tight"><i id="icon1" class="bi bi-dice-6-fill"></i>Najczęściej grane</h4>
                            <h3 class="text-2xl text-white font-semibold leading-tight my-3">@Model.mostPlayedGame</h3>
                           
                        </div>
                      
                    </div>
                </div>
            </div>


              </div>  
   </div>

          

         </div>
             <div class="row3">
                      <div class="w-full max-w-3xl">
    <div class="-mx-2 md:flex">

       
            <div id="card1" class="w-full md:w-1/3 px-2">
                <div class="rounded-3xl mb-11">
                    <div  id="shadow1" class="rounded-3xl bg-black relative overflow-hidden">
                        <div class="px-3 pt-8 text-center relative z-10">
                            <h4 class="text-sm pb-4 uppercase text-white leading-tight"><i id="icon1" class="bi bi-list-ol"></i>Ile gier zagrano</h4>
                            <h3 class="text-3xl text-white font-semibold leading-tight my-3">@Model.matchAmount</h3>
                           
                        </div>
                      
                    </div>
                </div>
            </div>

               <div id="card2" class="w-full md:w-1/3 px-2">
                <div class="rounded-3xl mb-11">
                    <div  id="shadow1" class="rounded-3xl bg-black relative overflow-hidden">
                        <div class="px-3 pt-8 text-center relative z-10">
                            <h4 class="text-sm pb-4 uppercase text-white leading-tight"><i id="icon1" class="bi bi-people-fill"></i>Średnia ilość graczy</h4>
                            <h3 class="text-2xl text-white font-semibold leading-tight my-3">@Model.avgPlayersNumber</h3>
                           
                        </div>
                      
                    </div>
                </div>
            </div>
              </div>  
   </div>
             
        
         </div>
          </div>
    </div>
</div>

<div class="container1s">
        <div class="row4">
        <div class="col-md-5">
            <div id="Chart_container">
	<canvas id="Chart_bar"></canvas>

</div>
        </div>

         <div class="col-md-522">
                    <div id="Chart_container4">
	        <canvas id="Chart_bar4"></canvas>

</div>
              </div>
 </div>

    </div>

    <div class="container1s">
            <div class="row4">

  </div>
                   <div id="Chart_container3">
	        <canvas id="Chart_bar3"></canvas>

</div>
    </div>






	

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<script src="~/js/jquery_table.min.js"></script>
  <script src="~/js/popper_table.js"></script>
  <script src="~/js/bootstrap_table.min.js"></script>
  <script src="~/js/main_table.js"></script>
   <script src="~/js/site.js"></script>

   <script>
var categories = @Json.Serialize(ViewBag.Categories);
var am_cat = @Json.Serialize(ViewBag.PlayedAmount);
var ctx = $("#Chart_bar");
var barChart = new Chart(ctx, {

	type:'bar',
    data: {
		labels:categories,
		datasets: [{
      label: 'My First dataset',
      backgroundColor: 'rgb(50,205,50)',
      borderColor: 'rgb(50,205,50)',
      data: am_cat,
    }]
	},
    options: {
		maintainAspectRatio: false,
         responsive: true,
    plugins: {
      legend: {
        display: false,
      },
      title: {
        display: true,
        text: 'Ilość rozegranych kategorii',
       
      },
          tooltip: {
            enabled:false
        }
    }
	},
});

		</script>




        <script>
var names = @Json.Serialize(ViewBag.topGamesNames);
var am_games = @Json.Serialize(ViewBag.topGamesAmount);
var ctx = $("#Chart_bar2");
var barChart = new Chart(ctx, {

	type:'bar',
    data: {
		labels:names,
		datasets: [{
      label: 'Najcześciej rozgrywane - TOP 5',
      backgroundColor: 'rgb(0,191,255)',
      borderColor: 'rgb(0,191,255)',
      data: am_games,
     
    }]
	},

    options: {
		maintainAspectRatio: false,
         responsive: true,
    plugins: {
      legend: {
        display: false,
      },
      title: {
        display: true,
        text: 'Najcześciej rozgrywane - TOP 5',
        
      },
            tooltip: {
            enabled:false
        },
    },

  
	},
});

		</script>

             <script>
var names = @Json.Serialize(ViewBag.playersName);
var am_players = @Json.Serialize(ViewBag.playersAmount);
var ctx = $("#Chart_bar3");
var barChart = new Chart(ctx, {

	type:'bar',
    data: {
		labels:names,
		datasets: [{
      label: 'Ilość gier rozegranych przez gracza',
      backgroundColor: 'rgb(255,0,0)',
      borderColor: 'rgb(255,0,0)',
      data: am_players,
    }]
	},
    options: {
		maintainAspectRatio: false,
         responsive: true,
    plugins: {
      legend: {
        display: false,
      },
      title: {
        display: true,
        text: 'Ilość gier rozegranych przez gracza',
         
      },
         tooltip: {
            enabled:false
        }
       
    }
	},
});

		</script>


                     <script>
var names = @Json.Serialize(ViewBag.playersWinName);
var am_players = @Json.Serialize(ViewBag.playersWinAmount);
var ctx = $("#Chart_bar4");
var barChart = new Chart(ctx, {

	type:'bar',
    data: {
		labels:names,
		datasets: [{
      label: 'Najczęściej wygrywający',
      backgroundColor: 'rgb(255,153,51)',
      borderColor: 'rgb(255,153,51)',
      data: am_players,
    }]
	},
    options: {
		maintainAspectRatio: false,
         responsive: true,
    plugins: {
      legend: {
        display: false,
      },
      title: {
        display: true,
        text: 'Najczęściej wygrywający gracze',
         
      },
         tooltip: {
            enabled:false
        }
       
    }
	},
});

		</script>
           <script>

$("#oto1").change(function () {
    let _selectedValue = $(this).val();
    let _data = {"Id": _selectedValue,"Id_Player":'-1'};

    window.location.href = '/GameStat/Index/'+_data.Id+'&'+_data.Id_Player;       
});
</script>

           <script>

$("#oto2").change(function () {
    let _selectedValue = $(this).val();
    let _data = {"Id": _selectedValue};

    window.location.href = '/PlayerStats/Index/'+_data.Id;       
});
</script>


	</body>
</html>

